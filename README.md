<a href="https://livekit.io/">
  <img src="./.github/assets/livekit-mark.png" alt="LiveKit logo" width="100" height="100">
</a>

# LiveKit Agents å¯åŠ¨é¡¹ç›® - Pythonç‰ˆ

ä¸€ä¸ªå®Œæ•´çš„è¯­éŸ³AIåº”ç”¨ç¨‹åºå¯åŠ¨é¡¹ç›®ï¼ŒåŸºäº[LiveKit Agents for Python](https://github.com/livekit/agents)æ„å»ºã€‚

## é¡¹ç›®ç®€ä»‹

è¿™ä¸ªå¯åŠ¨é¡¹ç›®ä¸ºæ‚¨æä¾›äº†ä¸€ä¸ªåŠŸèƒ½é½å…¨çš„è¯­éŸ³AIåŠ©æ‰‹æ¡†æ¶ï¼Œå¯ä»¥å¿«é€Ÿå¼€å‘å’Œéƒ¨ç½²è¯­éŸ³äº¤äº’åº”ç”¨ã€‚è¯¥é¡¹ç›®åŸºäºLiveKit Agentsæ¡†æ¶ï¼Œé›†æˆäº†ä¸šç•Œé¢†å…ˆçš„AIæœåŠ¡æä¾›å•†ï¼Œä¸ºæ‚¨æä¾›ä¼ä¸šçº§çš„è¯­éŸ³AIè§£å†³æ–¹æ¡ˆã€‚

## æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ è¯­éŸ³AIåŠ©æ‰‹
- åŸºäº[LiveKitè¯­éŸ³AIå¿«é€Ÿå…¥é—¨](https://docs.livekit.io/agents/start/voice-ai/)çš„å®Œæ•´è¯­éŸ³åŠ©æ‰‹å®ç°
- æ”¯æŒè‡ªç„¶è¯­è¨€å¯¹è¯å’Œæ™ºèƒ½å“åº”
- å†…ç½®ç¤ºä¾‹å·¥å…·å‡½æ•°ï¼ˆå¤©æ°”æŸ¥è¯¢ï¼‰å±•ç¤ºæ‰©å±•èƒ½åŠ›

### ğŸ”§ å¤šæœåŠ¡é›†æˆ
- **å¤§è¯­è¨€æ¨¡å‹(LLM)**: [OpenAI GPT-4o-mini](https://docs.livekit.io/agents/integrations/llm/openai/)
- **æ–‡æœ¬è½¬è¯­éŸ³(TTS)**: [Cartesia](https://docs.livekit.io/agents/integrations/tts/cartesia/)
- **è¯­éŸ³è½¬æ–‡æœ¬(STT)**: [Deepgram Nova-3](https://docs.livekit.io/agents/integrations/stt/deepgram/)
- æ”¯æŒæ›¿æ¢ä¸ºæ‚¨åå¥½çš„[LLM](https://docs.livekit.io/agents/integrations/llm/)ã€[STT](https://docs.livekit.io/agents/integrations/stt/)å’Œ[TTS](https://docs.livekit.io/agents/integrations/tts/)æœåŠ¡
- æ”¯æŒå‡çº§åˆ°å®æ—¶æ¨¡å‹ï¼Œå¦‚[OpenAIå®æ—¶API](https://docs.livekit.io/agents/integrations/realtime/openai)

### ğŸ§ª æµ‹è¯•ä¸è¯„ä¼°
- åŸºäºLiveKit Agents[æµ‹è¯•ä¸è¯„ä¼°æ¡†æ¶](https://docs.livekit.io/agents/build/testing/)çš„å®Œæ•´è¯„ä¼°å¥—ä»¶
- è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹è¦†ç›–åŠ©æ‰‹è¡Œä¸ºã€å·¥å…·è°ƒç”¨ã€é”™è¯¯å¤„ç†ç­‰åœºæ™¯
- æ”¯æŒAIé©±åŠ¨çš„è¯„ä¼°å’Œåˆ¤æ–­ï¼Œç¡®ä¿å¯¹è¯è´¨é‡

### ğŸ™ï¸ é«˜çº§è¯­éŸ³åŠŸèƒ½
- [LiveKitè½¬è¯æ£€æµ‹å™¨](https://docs.livekit.io/agents/build/turns/turn-detector/) - ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„è¯´è¯äººæ£€æµ‹
- å¤šè¯­è¨€æ”¯æŒï¼Œé€‚åº”ä¸åŒåœ°åŒºç”¨æˆ·
- [Silero VAD](https://docs.livekit.io/agents/build/turns/vad/)è¯­éŸ³æ´»åŠ¨æ£€æµ‹
- [LiveKit Cloudå¢å¼ºå™ªéŸ³æŠ‘åˆ¶](https://docs.livekit.io/home/cloud/noise-cancellation/)

### ğŸ“Š ç›‘æ§ä¸åˆ†æ
- é›†æˆ[æŒ‡æ ‡å’Œæ—¥å¿—è®°å½•](https://docs.livekit.io/agents/build/metrics/)
- å®æ—¶ä½¿ç”¨æƒ…å†µç»Ÿè®¡å’Œæ€§èƒ½ç›‘æ§
- è¯¦ç»†çš„ä¼šè¯åˆ†æå’Œç”¨æˆ·äº¤äº’è¿½è¸ª

### ğŸŒ å¤šå¹³å°å…¼å®¹
- å…¼å®¹ä»»ä½•[è‡ªå®šä¹‰Web/ç§»åŠ¨å‰ç«¯](https://docs.livekit.io/agents/start/frontend/)
- æ”¯æŒ[åŸºäºSIPçš„ç”µè¯ç³»ç»Ÿ](https://docs.livekit.io/agents/start/telephony/)é›†æˆ
- å¯éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼ŒåŒ…å«å®Œæ•´çš„Dockeré…ç½®

## å¼€å‘ç¯å¢ƒè®¾ç½®

### 1. å…‹éš†é¡¹ç›®å¹¶å®‰è£…ä¾èµ–

```console
cd agent-starter-python
uv sync
```

### 2. ç¯å¢ƒé…ç½®

å¤åˆ¶`.env.example`æ–‡ä»¶ä¸º`.env`å¹¶å¡«å…¥å¿…è¦çš„é…ç½®å€¼ï¼š

#### LiveKité…ç½®
- `LIVEKIT_URL`: ä½¿ç”¨[LiveKit Cloud](https://cloud.livekit.io/)æˆ–[è‡ªå»ºæœåŠ¡](https://docs.livekit.io/home/self-hosting/)
- `LIVEKIT_API_KEY`: LiveKit APIå¯†é’¥
- `LIVEKIT_API_SECRET`: LiveKit APIå¯†é’¥

#### AIæœåŠ¡APIå¯†é’¥
- `OPENAI_API_KEY`: [è·å–OpenAIå¯†é’¥](https://platform.openai.com/api-keys)æˆ–ä½¿ç”¨æ‚¨çš„[é¦–é€‰LLMæä¾›å•†](https://docs.livekit.io/agents/integrations/llm/)
- `DEEPGRAM_API_KEY`: [è·å–Deepgramå¯†é’¥](https://console.deepgram.com/)æˆ–ä½¿ç”¨æ‚¨çš„[é¦–é€‰STTæä¾›å•†](https://docs.livekit.io/agents/integrations/stt/)
- `CARTESIA_API_KEY`: [è·å–Cartesiaå¯†é’¥](https://play.cartesia.ai/keys)æˆ–ä½¿ç”¨æ‚¨çš„[é¦–é€‰TTSæä¾›å•†](https://docs.livekit.io/agents/integrations/tts/)

#### å¿«é€Ÿé…ç½®
æ‚¨å¯ä»¥ä½¿ç”¨[LiveKit CLI](https://docs.livekit.io/home/cli/cli-setup)è‡ªåŠ¨åŠ è½½ç¯å¢ƒå˜é‡ï¼š

```bash
lk app env -w .env
```

## è¿è¡Œè¯­éŸ³AIåŠ©æ‰‹

### 1. ä¸‹è½½å¿…è¦æ¨¡å‹

é¦–æ¬¡è¿è¡Œå‰ï¼Œéœ€è¦ä¸‹è½½[Silero VAD](https://docs.livekit.io/agents/build/turns/vad/)å’Œ[LiveKitè½¬è¯æ£€æµ‹å™¨](https://docs.livekit.io/agents/build/turns/turn-detector/)ç­‰æ¨¡å‹ï¼š

```console
uv run python src/agent.py download-files
```

### 2. ç›´æ¥åœ¨ç»ˆç«¯æµ‹è¯•

åœ¨ç»ˆç«¯ä¸­ç›´æ¥ä¸æ‚¨çš„è¯­éŸ³åŠ©æ‰‹å¯¹è¯ï¼š

```console
uv run python src/agent.py console
```

### 3. å¼€å‘æ¨¡å¼

ä¸ºå‰ç«¯æˆ–ç”µè¯ç³»ç»Ÿå¼€å‘æ—¶ä½¿ç”¨ï¼š

```console
uv run python src/agent.py dev
```

### 4. ç”Ÿäº§éƒ¨ç½²

ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ï¼š

```console
uv run python src/agent.py start
```

## å‰ç«¯ä¸ç”µè¯é›†æˆ

å¿«é€Ÿå¼€å§‹ä½¿ç”¨æˆ‘ä»¬é¢„æ„å»ºçš„å‰ç«¯å¯åŠ¨åº”ç”¨ï¼Œæˆ–æ·»åŠ ç”µè¯æ”¯æŒï¼š

| å¹³å° | é“¾æ¥ | æè¿° |
|----------|----------|-------------|
| **Web** | [`livekit-examples/agent-starter-react`](https://github.com/livekit-examples/agent-starter-react) | åŸºäºReact & Next.jsçš„Webè¯­éŸ³AIåŠ©æ‰‹ |
| **iOS/macOS** | [`livekit-examples/agent-starter-swift`](https://github.com/livekit-examples/agent-starter-swift) | åŸç”ŸiOSã€macOSå’ŒvisionOSè¯­éŸ³AIåŠ©æ‰‹ |
| **Flutter** | [`livekit-examples/agent-starter-flutter`](https://github.com/livekit-examples/agent-starter-flutter) | è·¨å¹³å°è¯­éŸ³AIåŠ©æ‰‹åº”ç”¨ |
| **React Native** | [`livekit-examples/voice-assistant-react-native`](https://github.com/livekit-examples/voice-assistant-react-native) | åŸºäºReact Native & Expoçš„åŸç”Ÿç§»åŠ¨åº”ç”¨ |
| **Android** | [`livekit-examples/agent-starter-android`](https://github.com/livekit-examples/agent-starter-android) | åŸºäºKotlin & Jetpack Composeçš„åŸç”ŸAndroidåº”ç”¨ |
| **WebåµŒå…¥ç»„ä»¶** | [`livekit-examples/agent-starter-embed`](https://github.com/livekit-examples/agent-starter-embed) | å¯åµŒå…¥ä»»ä½•ç½‘ç«™çš„è¯­éŸ³AIå°éƒ¨ä»¶ |
| **ç”µè¯ç³»ç»Ÿ** | [ğŸ“š æ–‡æ¡£](https://docs.livekit.io/agents/start/telephony/) | ä¸ºæ‚¨çš„åŠ©æ‰‹æ·»åŠ å‘¼å…¥æˆ–å‘¼å‡ºåŠŸèƒ½ |

å¦‚éœ€é«˜çº§å®šåˆ¶ï¼Œè¯·å‚é˜…[å®Œæ•´å‰ç«¯æŒ‡å—](https://docs.livekit.io/agents/start/frontend/)ã€‚

## æµ‹è¯•ä¸è¯„ä¼°

æœ¬é¡¹ç›®åŒ…å«åŸºäºLiveKit Agents[æµ‹è¯•ä¸è¯„ä¼°æ¡†æ¶](https://docs.livekit.io/agents/build/testing/)çš„å®Œæ•´è¯„ä¼°å¥—ä»¶ã€‚è¿è¡Œæµ‹è¯•ï¼š

```console
uv run pytest
```

### æµ‹è¯•è¦†ç›–èŒƒå›´
- **å‹å¥½æ€§æµ‹è¯•**: è¯„ä¼°åŠ©æ‰‹çš„å‹å¥½é—®å€™å’Œäº’åŠ¨æ–¹å¼
- **å·¥å…·åŠŸèƒ½æµ‹è¯•**: éªŒè¯å¤©æ°”æŸ¥è¯¢ç­‰å·¥å…·çš„æ­£ç¡®è°ƒç”¨å’Œå“åº”
- **é”™è¯¯å¤„ç†æµ‹è¯•**: æµ‹è¯•æœåŠ¡ä¸å¯ç”¨æ—¶çš„ä¼˜é›…é™çº§
- **æ‹’ç»æµ‹è¯•**: ç¡®ä¿åŠ©æ‰‹æ­£ç¡®æ‹’ç»ä¸å½“æˆ–æœ‰å®³è¯·æ±‚
- **çŸ¥è¯†è¾¹ç•Œæµ‹è¯•**: éªŒè¯åŠ©æ‰‹æ‰¿è®¤ä¸çŸ¥é“çš„ä¿¡æ¯

## é¡¹ç›®ç»“æ„è¯¦è§£

```
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py          # PythonåŒ…åˆå§‹åŒ–æ–‡ä»¶
â”‚   â””â”€â”€ agent.py             # ä¸»è¦çš„Agentå®ç°ï¼ŒåŒ…å«åŠ©æ‰‹é€»è¾‘å’Œå·¥å…·å‡½æ•°
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_agent.py        # å®Œæ•´çš„æµ‹è¯•å¥—ä»¶ï¼ŒåŒ…å«å„ç§åœºæ™¯æµ‹è¯•
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/           # GitHub Actions CI/CDé…ç½®
â”œâ”€â”€ pyproject.toml           # Pythoné¡¹ç›®é…ç½®å’Œä¾èµ–ç®¡ç†
â”œâ”€â”€ Dockerfile               # ç”Ÿäº§ç¯å¢ƒDockeré…ç½®
â”œâ”€â”€ taskfile.yaml            # ä»»åŠ¡è‡ªåŠ¨åŒ–é…ç½®
â””â”€â”€ README.md                # æœ¬æ–‡æ¡£
```

## åŸºäºæ­¤æ¨¡æ¿åˆ›å»ºæ‚¨çš„é¡¹ç›®

å½“æ‚¨åŸºäºæ­¤æ¨¡æ¿å¼€å§‹è‡ªå·±çš„é¡¹ç›®æ—¶ï¼Œåº”è¯¥ï¼š

1. **æäº¤æ‚¨çš„`uv.lock`æ–‡ä»¶**: æ­¤æ–‡ä»¶å½“å‰æœªè¢«è·Ÿè¸ªï¼ˆä»…ç”¨äºæ¨¡æ¿ï¼‰ï¼Œä½†æ‚¨åº”è¯¥å°†å…¶æäº¤åˆ°æ‚¨çš„ä»“åº“ä»¥ç¡®ä¿å¯é‡å¤çš„æ„å»ºå’Œæ­£ç¡®çš„é…ç½®ç®¡ç†ã€‚ï¼ˆå¦‚æœæ‚¨åœ¨LiveKit Cloudä¸­è¿è¡Œä»£ç†ï¼Œ`livekit.toml`ä¹Ÿæ˜¯å¦‚æ­¤ï¼‰

2. **ç§»é™¤gitè·Ÿè¸ªæµ‹è¯•**: ä»`.github/workflows/tests.yml`ä¸­åˆ é™¤"æ£€æŸ¥gitä¸­æœªè·Ÿè¸ªçš„æ–‡ä»¶"æ­¥éª¤ï¼Œå› ä¸ºæ‚¨ç°åœ¨å¸Œæœ›è·Ÿè¸ªè¿™äº›æ–‡ä»¶ã€‚è¿™äº›ä»…ç”¨äºæ¨¡æ¿ä»“åº“æœ¬èº«çš„å¼€å‘ç›®çš„ã€‚

3. **æ·»åŠ æ‚¨è‡ªå·±çš„ä»“åº“å¯†é’¥**: æ‚¨å¿…é¡»ä¸º`OPENAI_API_KEY`æˆ–å…¶ä»–LLMæä¾›å•†[æ·»åŠ å¯†é’¥](https://docs.github.com/en/actions/how-tos/writing-workflows/choosing-what-your-workflow-does/using-secrets-in-github-actions)ï¼Œä»¥ä¾¿æµ‹è¯•å¯ä»¥åœ¨CIä¸­è¿è¡Œã€‚

## ç”Ÿäº§éƒ¨ç½²

æ­¤é¡¹ç›®å·²å‡†å¤‡å¥½ç”¨äºç”Ÿäº§ç¯å¢ƒï¼ŒåŒ…å«å¯ç”¨çš„`Dockerfile`ã€‚è¦å°†å…¶éƒ¨ç½²åˆ°LiveKit Cloudæˆ–å…¶ä»–ç¯å¢ƒï¼Œè¯·å‚é˜…[ç”Ÿäº§éƒ¨ç½²æŒ‡å—](https://docs.livekit.io/agents/ops/deployment/)ã€‚

### éƒ¨ç½²ç‰¹æ€§
- **Dockeræ”¯æŒ**: å®Œæ•´çš„å®¹å™¨åŒ–é…ç½®
- **äº‘åŸç”Ÿ**: é€‚é…å„ç§äº‘å¹³å°éƒ¨ç½²
- **é«˜å¯ç”¨**: æ”¯æŒè´Ÿè½½å‡è¡¡å’Œè‡ªåŠ¨æ‰©å±•
- **ç›‘æ§é›†æˆ**: å†…ç½®æ€§èƒ½æŒ‡æ ‡å’Œæ—¥å¿—è®°å½•

## æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒç»„ä»¶
1. **Agentç±»**: ç»§æ‰¿è‡ªLiveKit Agentçš„ä¸»è¦åŠ©æ‰‹é€»è¾‘
2. **å·¥å…·ç³»ç»Ÿ**: åŸºäºè£…é¥°å™¨çš„å‡½æ•°å·¥å…·ï¼Œæ”¯æŒLLMè°ƒç”¨
3. **ä¼šè¯ç®¡ç†**: è‡ªåŠ¨å¤„ç†ç”¨æˆ·ä¼šè¯å’ŒçŠ¶æ€ç®¡ç†
4. **å¤šæ¨¡æ€æ”¯æŒ**: ç»Ÿä¸€çš„è¯­éŸ³ã€æ–‡æœ¬å’Œå®æ—¶APIæ¥å£

### æ€§èƒ½ä¼˜åŒ–
- **é¢„çƒ­æœºåˆ¶**: VADæ¨¡å‹é¢„åŠ è½½å‡å°‘å¯åŠ¨æ—¶é—´
- **èµ„æºç®¡ç†**: æ™ºèƒ½çš„å†…å­˜å’Œè®¡ç®—èµ„æºä½¿ç”¨
- **å¹¶å‘å¤„ç†**: æ”¯æŒå¤šç”¨æˆ·åŒæ—¶å¯¹è¯
- **ç¼“å­˜ç­–ç•¥**: ä¼˜åŒ–å“åº”æ—¶é—´å’Œæˆæœ¬

## å¼€å‘æœ€ä½³å®è·µ

### ä»£ç è´¨é‡
- **ç±»å‹æç¤º**: å®Œæ•´çš„Pythonç±»å‹æ³¨è§£
- **å¼‚æ­¥ç¼–ç¨‹**: åŸºäºasyncioçš„é«˜æ€§èƒ½å¼‚æ­¥æ¶æ„
- **é”™è¯¯å¤„ç†**: ä¼˜é›…çš„å¼‚å¸¸å¤„ç†å’Œç”¨æˆ·å‹å¥½çš„é”™è¯¯æ¶ˆæ¯
- **æ—¥å¿—è®°å½•**: ç»“æ„åŒ–æ—¥å¿—ä¾¿äºè°ƒè¯•å’Œç›‘æ§

### æ‰©å±•æŒ‡å—
- **è‡ªå®šä¹‰å·¥å…·**: é€šè¿‡`@function_tool`è£…é¥°å™¨æ·»åŠ æ–°åŠŸèƒ½
- **æœåŠ¡é›†æˆ**: è½»æ¾æ›¿æ¢æˆ–æ·»åŠ æ–°çš„AIæœåŠ¡æä¾›å•†
- **å¤šè¯­è¨€æ”¯æŒ**: é…ç½®ä¸åŒè¯­è¨€çš„STT/TTSæœåŠ¡
- **ä¸ªæ€§åŒ–å®šåˆ¶**: è°ƒæ•´åŠ©æ‰‹çš„æŒ‡ä»¤å’Œè¡Œä¸ºç‰¹æ€§

## è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäºMITè®¸å¯è¯ - è¯¦ç»†ä¿¡æ¯è¯·å‚é˜…[LICENSE](LICENSE)æ–‡ä»¶ã€‚

## æ”¯æŒä¸ç¤¾åŒº

- [LiveKitæ–‡æ¡£](https://docs.livekit.io/)
- [LiveKit Discordç¤¾åŒº](https://livekit.io/join-slack)
- [GitHub Issues](https://github.com/livekit/agents/issues)
- [ç¤ºä¾‹é¡¹ç›®](https://github.com/livekit-examples)

---

å¼€å§‹æ„å»ºæ‚¨çš„ä¸‹ä¸€ä¸ªè¯­éŸ³AIåº”ç”¨ç¨‹åºï¼ğŸš€